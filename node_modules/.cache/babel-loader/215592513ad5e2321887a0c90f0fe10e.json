{"ast":null,"code":"// import DOMPurify from \"dompurify\";\nexport function isTextValid() {}\nexport function validate(input = \"\", type = \"custom\", {\n  min_length: min = 1,\n  max_length: max = 70,\n  regex: reg = null,\n  identifier = null\n} = {}) {\n  identifier = identifier || `input {${type}}`;\n  input = input.toString().trim();\n  const regexes = {\n    username: RegExp(`^[_a-zA-Z0-9]{${min},${max}}$`),\n    password: RegExp(`^\\\\S{${min},${max}}$`),\n    name: RegExp(`^.{${min},${max}}$`)\n  };\n\n  if (!reg) {\n    reg = regexes[type];\n  }\n\n  if (reg) {\n    if (!reg.test(input)) {\n      throw Error(`${identifier} must match regex: ${reg} (range between ${min} and ${max} characters)`);\n    }\n  }\n\n  if (type === \"html\") {\n    input = DOMPurify.sanitize(input, {\n      ALLOWED_TAGS: [\"b\"]\n    }).trim();\n  }\n\n  if (input.length > max || input.length < min) {\n    throw Error(`${identifier} must be minimum ${min} and maximum ${max} characters`);\n  }\n\n  if (input.includes(\"\\n\")) {\n    input = input.replace(/\\n+/g, \"\\n\").trim();\n  }\n\n  return input;\n}","map":{"version":3,"sources":["C:/Users/twist/OneDrive/Documents/react/build-twitter-with-react/src/utils/validate.js"],"names":["isTextValid","validate","input","type","min_length","min","max_length","max","regex","reg","identifier","toString","trim","regexes","username","RegExp","password","name","test","Error","DOMPurify","sanitize","ALLOWED_TAGS","length","includes","replace"],"mappings":"AAAA;AAEA,OAAO,SAASA,WAAT,GAAuB,CAAE;AAEhC,OAAO,SAASC,QAAT,CACLC,KAAK,GAAG,EADH,EAELC,IAAI,GAAG,QAFF,EAGL;AACEC,EAAAA,UAAU,EAAEC,GAAG,GAAG,CADpB;AAEEC,EAAAA,UAAU,EAAEC,GAAG,GAAG,EAFpB;AAGEC,EAAAA,KAAK,EAAEC,GAAG,GAAG,IAHf;AAIEC,EAAAA,UAAU,GAAG;AAJf,IAKI,EARC,EASL;AACAA,EAAAA,UAAU,GAAGA,UAAU,IAAK,UAASP,IAAK,GAA1C;AACAD,EAAAA,KAAK,GAAGA,KAAK,CAACS,QAAN,GAAiBC,IAAjB,EAAR;AACA,QAAMC,OAAO,GAAG;AACdC,IAAAA,QAAQ,EAAEC,MAAM,CAAE,iBAAgBV,GAAI,IAAGE,GAAI,IAA7B,CADF;AAEdS,IAAAA,QAAQ,EAAED,MAAM,CAAE,QAAOV,GAAI,IAAGE,GAAI,IAApB,CAFF;AAGdU,IAAAA,IAAI,EAAEF,MAAM,CAAE,MAAKV,GAAI,IAAGE,GAAI,IAAlB;AAHE,GAAhB;;AAKA,MAAI,CAACE,GAAL,EAAU;AACRA,IAAAA,GAAG,GAAGI,OAAO,CAACV,IAAD,CAAb;AACD;;AACD,MAAIM,GAAJ,EAAS;AACP,QAAI,CAACA,GAAG,CAACS,IAAJ,CAAShB,KAAT,CAAL,EAAsB;AACpB,YAAMiB,KAAK,CACR,GAAET,UAAW,sBAAqBD,GAAI,mBAAkBJ,GAAI,QAAOE,GAAI,cAD/D,CAAX;AAGD;AACF;;AACD,MAAIJ,IAAI,KAAK,MAAb,EAAqB;AACnBD,IAAAA,KAAK,GAAGkB,SAAS,CAACC,QAAV,CAAmBnB,KAAnB,EAA0B;AAAEoB,MAAAA,YAAY,EAAE,CAAC,GAAD;AAAhB,KAA1B,EAAmDV,IAAnD,EAAR;AACD;;AACD,MAAIV,KAAK,CAACqB,MAAN,GAAehB,GAAf,IAAsBL,KAAK,CAACqB,MAAN,GAAelB,GAAzC,EAA8C;AAC5C,UAAMc,KAAK,CACR,GAAET,UAAW,oBAAmBL,GAAI,gBAAeE,GAAI,aAD/C,CAAX;AAGD;;AACD,MAAIL,KAAK,CAACsB,QAAN,CAAe,IAAf,CAAJ,EAA0B;AACxBtB,IAAAA,KAAK,GAAGA,KAAK,CAACuB,OAAN,CAAc,MAAd,EAAsB,IAAtB,EAA4Bb,IAA5B,EAAR;AACD;;AAED,SAAOV,KAAP;AACD","sourcesContent":["// import DOMPurify from \"dompurify\";\n\nexport function isTextValid() {}\n\nexport function validate(\n  input = \"\",\n  type = \"custom\",\n  {\n    min_length: min = 1,\n    max_length: max = 70,\n    regex: reg = null,\n    identifier = null,\n  } = {}\n) {\n  identifier = identifier || `input {${type}}`;\n  input = input.toString().trim();\n  const regexes = {\n    username: RegExp(`^[_a-zA-Z0-9]{${min},${max}}$`),\n    password: RegExp(`^\\\\S{${min},${max}}$`),\n    name: RegExp(`^.{${min},${max}}$`),\n  };\n  if (!reg) {\n    reg = regexes[type];\n  }\n  if (reg) {\n    if (!reg.test(input)) {\n      throw Error(\n        `${identifier} must match regex: ${reg} (range between ${min} and ${max} characters)`\n      );\n    }\n  }\n  if (type === \"html\") {\n    input = DOMPurify.sanitize(input, { ALLOWED_TAGS: [\"b\"] }).trim();\n  }\n  if (input.length > max || input.length < min) {\n    throw Error(\n      `${identifier} must be minimum ${min} and maximum ${max} characters`\n    );\n  }\n  if (input.includes(\"\\n\")) {\n    input = input.replace(/\\n+/g, \"\\n\").trim();\n  }\n\n  return input;\n}\n"]},"metadata":{},"sourceType":"module"}